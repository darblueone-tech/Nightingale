name: Chat App Test Runner

# 1. 触发条件：什么时候运行？
on:
  push:
    branches: [ main, dev ]
  pull_request:
    branches: [ main ]

# 2. 任务执行内容
jobs:
  test-process:
    runs-on: ubuntu-latest # 在 Linux 虚拟机上运行

    steps:
      - name: 检出代码
        uses: actions/checkout@v4 # 这一步是让 Action 拿到你的代码

      - name: 设置运行环境
        uses: actions/setup-node@v4 # 这里的 node 可以换成 python, go 等
        with:
          node-version: '20'

      - name: 安装依赖
        run: npm install

      - name: 运行测试脚本
        run: npm test # 这里对应你 package.json 里的 test 命令
